(function(n){n.fn.infiniteScroll=function(t){var u,r=0,i;return i=n.extend({files:[],preloaderColor:"#000",fadeDuration:300,beforeLoadNewContent:function(){},processData:function(t){var r=n(`<div style='opacity:0'>${t}</div>`);n("."+i.markSelector).before(r);r.fadeTo(i.fadeDuration,1)},afterLoadNewContent:function(){},onEnd:function(){}},t),i.markSelector,infiniteContentLoader=function(t){t[0].isIntersecting&&!n(".infiniteContentPreloader").is(":visible")&&r<i.files.length?(n(".infiniteContentPreloader").toggle(),n.ajax({type:"GET",url:i.files[r],dataType:"html",success:function(t){i.beforeLoadNewContent();n(".infiniteContentPreloader").toggle();i.processData(t);r++;i.afterLoadNewContent()}})):t[0].isIntersecting&&!n(".infiniteContentPreloader").is(":visible")&&r>=i.files.length&&(u.disconnect(),i.onEnd())},infiniteScroll=function(t){i.markSelector="infiniteContentMark_"+Date.now();var r=`<div class="${i.markSelector}" style="width: 100%;"></div>`;n(t).append(r);n(document).ready(function(){var t,r;n("."+i.markSelector).html(`<div class="infiniteContentPreloader" style="width: 150px; height: 150px; margin: 0 auto; display: none;"><svg version="1.1" id="L4" xmlns="http://www.w3.org/2000/svg" xmlns: xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml: space="preserve">
                    <circle fill="${i.preloaderColor}" stroke="none" cx="6" cy="50" r="6">
                        <animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin="0.1"></animate>
                    </circle>
                    <circle fill="${i.preloaderColor}" stroke="none" cx="26" cy="50" r="6">
                        <animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin="0.2"></animate>
                    </circle>
                    <circle fill="${i.preloaderColor}" stroke="none" cx="46" cy="50" r="6">
                        <animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin="0.3"></animate>
                    </circle>
                </svg></div>`);"IntersectionObserver"in window?(t={root:null,rootMargin:"0px",threshold:0},u=new IntersectionObserver(infiniteContentLoader,t),r=n("."+i.markSelector).toArray()[0],u.observe(r)):console.log("Intersection Observer API is not available")})},this.length>0?infiniteScroll(this):void 0}})(window.jQuery||window.Zepto||window.$);